<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Group - {{ group['name'] }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <style>
        body.high-contrast {
            background-color: #000;
            color: #fff;
        }

        .font-small {
            font-size: 14px;
        }

        .font-medium {
            font-size: 18px;
        }

        .font-large {
            font-size: 22px;
        }

        ul {
            list-style-type: none;
            padding: 0;
        }

        li {
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .btn {
            padding: 5px 10px;
            cursor: pointer;
            margin-left: 5px;
        }

        header,
        section,
        footer {
            margin-bottom: 20px;
        }

        header {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        header img.logo {
            height: 50px;
            margin-right: 15px;
        }

        header .welcome {
            font-size: 18px;
            margin-left: 10px;
        }

        footer {
            text-align: center;
            font-size: 14px;
            color: #888;
            margin-top: 30px;
            border-top: 1px solid #ccc;
            padding-top: 10px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        table th,
        table td {
            border: 1px solid #ccc;
            padding: 8px;
            text-align: left;
        }

        table th {
            background-color: #f2f2f2;
        }

        .actions {
            display: flex;
            gap: 5px;
        }
    </style>
</head>

<body class="font-medium">

    <header>
        <div style="display:flex; align-items:center;">
            <img src="{{ url_for('static', filename='logo.jpg') }}" alt="NoteBridge Logo" class="logo">
            <div class="welcome">Welcome, {{ user['full_name'] or user['username'] }}!</div>
        </div>
        <nav>
            <a href="{{ url_for('dashboard') }}" class="btn">Dashboard</a>
            <a href="{{ url_for('logout') }}" class="btn">Logout</a>
        </nav>
    </header>

    <main>
        <section>
            <h2>Group: {{ group['name'] }}</h2>
            <p><strong>Description:</strong> {{ group['description'] or 'No description' }}</p>
            <p><strong>Created At:</strong> {{ group['created_at'] }}</p>

            <div class="actions">
                <a href="{{ url_for('edit_group', group_id=group['id']) }}" class="btn">Edit Group</a>
                <form method="POST" action="{{ url_for('delete_group', group_id=group['id']) }}" style="display:inline"
                    onsubmit="return confirm('Are you sure you want to delete this group?');">
                    <button type="submit" class="btn">Delete Group</button>
                </form>
            </div>

            <h3>Members</h3>
            <table>
                <thead>
                    <tr>
                        <th>Username</th>
                        <th>Full Name</th>
                        <th>Role</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for m in members %}
                    <tr>
                        <td>{{ m['username'] }}</td>
                        <td>{{ m['full_name'] }}</td>
                        <td>{{ 'Owner' if m['user_id'] == user['id'] else 'Member' }}</td>
                        <td>
                            {% if m['user_id'] != user['id'] %}
                            <form method="POST"
                                action="{{ url_for('remove_member', group_id=group['id'], user_id=m['user_id']) }}"
                                style="display:inline" onsubmit="return confirm('Remove this member?');">
                                <button type="submit" class="btn">Remove</button>
                            </form>
                            {% else %}
                            â€”
                            {% endif %}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </section>
    </main>

    <footer>
        &copy; 2025 NoteBridge. All rights reserved.
    </footer>

</body>

</html>