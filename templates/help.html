<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Help - NoteBridge</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      background: #f0f4f8;
      color: #2c3e50;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    /* === Sidebar === */
    .sidebar {
      width: 260px;
      background: linear-gradient(180deg, #1f2d3d, #34495e);
      color: #ecf0f1;
      height: 100vh;
      position: fixed;
      top: 0;
      left: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 30px 15px;
      box-shadow: 4px 0 16px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
    }

    .sidebar img {
      width: 90px;
      height: 90px;
      border-radius: 50%;
      margin-bottom: 20px;
      border: 3px solid #ecf0f1;
      transition: transform 0.3s ease;
    }

    .sidebar img:hover {
      transform: scale(1.05);
    }

    .sidebar h2 {
      font-size: 1.3rem;
      text-align: center;
      margin-bottom: 35px;
      font-weight: 600;
    }

    .sidebar a {
      width: 100%;
      text-decoration: none;
      color: #ecf0f1;
      padding: 14px 18px;
      margin: 8px 0;
      border-radius: 10px;
      text-align: left;
      cursor: pointer;
      font-size: 15px;
      background: rgba(255, 255, 255, 0.08);
      transition: all 0.3s ease;
      display: block;
    }

    .sidebar a:hover {
      background: rgba(255, 255, 255, 0.25);
      transform: translateX(5px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }

    /* === Main Content === */
    .main-content {
      margin-left: 280px;
      padding: 40px 35px;
      flex: 1;
    }

    h1 {
      margin-bottom: 25px;
      color: #34495e;
      font-size: 2rem;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      background: #ffffff;
      border-radius: 14px;
      overflow: hidden;
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
      margin-top: 20px;
    }

    th,
    td {
      padding: 14px 18px;
      border-bottom: 1px solid #e0e4e8;
      text-align: left;
    }

    th {
      background-color: #3498db;
      color: white;
      font-weight: 600;
    }

    tr:last-child td {
      border-bottom: none;
    }

    /* === Introduction Section === */
    .intro-section {
      background: linear-gradient(135deg, #ffffff, #f1f6fb);
      border-radius: 18px;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
      padding: 35px 40px;
      margin-bottom: 50px;
      border-left: 8px solid #3498db;
      animation: fadeIn 0.8s ease-in-out;
    }

    .intro-section h1,
    .intro-section h2 {
      text-align: center;
      margin-left: 0;
      margin-right: 0;
    }

    .intro-section ul {
      list-style-type: "‚Ä¢ ";
      padding-left: 30px;
      margin-top: 12px;
    }

    .intro-section li {
      margin: 6px 0;
      color: #2c3e50;
      line-height: 1.5;
    }

    /* === Voice Commands Section === */
    .voice-chatbot {
      background: linear-gradient(135deg, #e6f0ff, #ffffff);
      border-radius: 18px;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
      padding: 40px 35px;
      margin-top: 50px;
      border-left: 8px solid #3498db;
      animation: fadeIn 0.8s ease-in-out;
    }

    .voice-chatbot h2 {
      color: #1565c0;
      font-size: 2rem;
      margin-bottom: 30px;
      border-bottom: 2px solid #bbdefb;
      padding-bottom: 10px;
      font-weight: 700;
      text-align: center;
    }

    .vc-block {
      margin-bottom: 30px;
      padding: 25px 30px;
      background: #ffffff;
      border-radius: 14px;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.07);
      transition: all 0.3s ease;
    }

    .vc-block:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
    }

    .vc-block h3 {
      color: #0d47a1;
      margin-bottom: 12px;
      font-size: 1.3rem;
    }

    .vc-block ul {
      list-style-type: "‚Ä¢ ";
      padding-left: 30px;
      margin-bottom: 12px;
    }

    .vc-block li {
      color: #2c3e50;
      font-size: 1rem;
      margin: 6px 0;
      line-height: 1.5;
    }

    .vc-note {
      background: #dce9ff;
      border-left: 5px solid #1565c0;
      padding: 12px 16px;
      border-radius: 10px;
      font-style: italic;
      color: #1a237e;
      margin-top: 12px;
    }

    .vc-subtitle {
      color: #37474f;
      margin-bottom: 8px;
      font-weight: 600;
    }

    /* === Footer === */
    footer {
      margin-top: 60px;
      padding: 35px 25px;
      background: #2c3e50;
      color: #ecf0f1;
      text-align: center;
      border-top: 5px solid #3498db;
      font-size: 0.95rem;
      font-weight: 500;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>

<body>
  <div class="sidebar">
    <img src="{{ url_for('static', filename='logo.jpg') }}" alt="User Avatar">
    <h2>{{ user['full_name'] or user['username'] }}</h2>
    <a href="{{ url_for('dashboard.dashboard') }}">Dashboard</a>
    <a href="{{ url_for('notebook.list_notebooks') }}">Notebooks</a>
    <a href="{{ url_for('help.help_page') }}">Help</a>
    <a href="{{ url_for('auth.logout') }}">Logout</a>
  </div>

  <div class="main-content">

    <!-- === Introduction Section === -->
    <div class="intro-section">
      <h1>Welcome to NoteBridge</h1>
      <p><strong>Purpose:</strong> A collaborative note-taking platform designed to make learning inclusive and accessible for everyone.</p>

      <h2>üéØ Our Vision</h2>
      <p>
        NoteBridge is built to support students who face accessibility challenges, enabling them to actively participate in group discussions, lectures, and collaborative projects. 
        The platform combines real-time note sharing, voice input, and inclusive design principles to ensure everyone can contribute and stay engaged.
      </p>

      <h2>‚öôÔ∏è Key Features</h2>
      <ul>
        <li>‚úÖ <strong>Dashboard:</strong> Organize notebooks, access shared groups, and customize visual settings for better readability.</li>
        <li>‚úÖ <strong>Real-Time Collaboration:</strong> Work together on documents with live updates and structured formatting that works with screen readers.</li>
        <li>‚úÖ <strong>Voice Input:</strong> Dictate your notes during lectures, with automatic transcription and optional speaker identification for group work.</li>
        <li>‚úÖ <strong>Accessibility Tools:</strong> Keyboard shortcuts, text-to-speech, and clear formatting options.</li>
        <li>‚úÖ <strong>Group Management:</strong> Share notes, track contributions, and search quickly.</li>
        <li>‚úÖ <strong>Chatbot Assistance:</strong> Use voice commands to get summaries and add AI notes to notebooks.</li>
      </ul>
    </div>

    <!-- === Voice Commands Table === -->
    <h1>Voice Commands Supported in NoteBridge</h1>
    <table>
      <thead>
        <tr>
          <th>Category</th>
          <th>Example Commands</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Navigation</td>
          <td>‚ÄúDashboard‚Äù, ‚ÄúGo to dashboard‚Äù</td>
          <td>Opens dashboard</td>
        </tr>
        <tr>
          <td>Navigation</td>
          <td>‚ÄúOpen chatbot‚Äù</td>
          <td>Opens chatbot page</td>
        </tr>
        <tr>
          <td>Accessibility</td>
          <td>‚ÄúRead page‚Äù, ‚ÄúRead dashboard‚Äù</td>
          <td>Reads dashboard aloud</td>
        </tr>
        <tr>
          <td>Notebook control</td>
          <td>‚ÄúRead notebook one‚Äù, ‚ÄúPlay notebook two‚Äù</td>
          <td>Reads notebook aloud</td>
        </tr>
        <tr>
          <td>Help</td>
          <td>‚ÄúHelp‚Äù</td>
          <td>Speaks available commands</td>
        </tr>
      </tbody>
    </table>

    <!-- === Voice Commands for Chatbot Section === -->
    <section class="voice-chatbot" id="commandsSection">
      <h2>üéôÔ∏è Available Voice Commands for Chatbot</h2>

      <div class="vc-block">
        <h3>üóíÔ∏è Notebook Control</h3>
        <ul>
          <li>‚ÄúAdd note to note one‚Äù</li>
          <li>‚ÄúPost note to note one‚Äù</li>
          <li>‚ÄúAdd note to note two‚Äù</li>
        </ul>
        <p class="vc-note">
          ‚Üí The bot will ask you to say your note after the beep, then save it.
        </p>
      </div>

      <div class="vc-block">
        <h3>üß† Summaries</h3>
        <ul>
          <li>‚ÄúSummarize note one‚Äù</li>
          <li>‚ÄúSummarize note two‚Äù</li>
          <li>Read summary</li>
          <strong>‚ÄúUSER should say read summary to hear the summary‚Äù</strong>
        </ul>
        <p class="vc-note">‚Üí The bot will summarize that notebook and display the summary.</p>
      </div>

      
  <footer>
    <p>&copy; 2025 NoteBridge. All rights reserved.</p>
  </footer>

  <script>
    const synth = window.speechSynthesis;
    let rec = null;

    function speak(text) {
      if (synth.speaking || synth.pending) synth.cancel();
      const msg = new SpeechSynthesisUtterance(text);
      msg.lang = 'en-US';
      msg.rate = 1;
      msg.pitch = 1;
      synth.speak(msg);
    }

    function startRecognition() {
      if (!('webkitSpeechRecognition' in window)) {
        alert("Please use Google Chrome for voice support.");
        return;
      }

      if (rec) {
        rec.stop();
        rec = null;
      }

      rec = new webkitSpeechRecognition();
      rec.lang = 'en-US';
      rec.continuous = true;
      rec.interimResults = false;

      rec.onresult = (e) => {
        const text = e.results[e.results.length - 1][0].transcript.trim().toLowerCase();
        console.log("üé§ Heard:", text);

        if (text.includes("introduction")) {
          const content = document.querySelector(".main-content").innerText;
          speak("Reading the NoteBridge Help page. " + content);
        } else if (text.includes("go to dashboard")) {
          synth.cancel();
          window.location.href = "/dashboard";
        } else if (text.includes("open chatbot")) {
          synth.cancel();
          window.location.href = "/chatbot";
        }
      };

      rec.onerror = (e) => console.error("Speech error:", e.error);
      rec.onend = () => setTimeout(startRecognition, 1500);
      rec.start();
    }

    window.addEventListener('DOMContentLoaded', () => {
      setTimeout(() => {
        speak("Welcome to the NoteBridge Help page. Say introduction to hear the entire page.");
      }, 1200);

      startRecognition();
    });

    window.addEventListener('beforeunload', () => {
      synth.cancel();
      if (rec) rec.stop();
    });
  </script>
</body>

</html>
